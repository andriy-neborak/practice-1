## –ü—Ä–æ—Ç–æ–∫–æ–ª –∑–≤'—è–∑–∫—É (UART Protocol)

–ó–≤'—è–∑–æ–∫ –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ UART (BaudRate: 38400).
–ö–æ–∂–µ–Ω –ø–∞–∫–µ—Ç –º–∞—î —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π —Ä–æ–∑–º—ñ—Ä **6 –±–∞–π—Ç**.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç—É
| Byte 0 | Byte 1 | Byte 2 | Byte 3 | Byte 4 | Byte 5 |
| :---: | :---: | :---: | :---: | :---: | :---: |
| **CMD** | **ADDR_H** | **ADDR_L** | **DATA_H** | **DATA_L** | **CRC** |
| –ö–æ–º–∞–Ω–¥–∞ | –ü–∞—Ä–∞–º–µ—Ç—Ä 1 | –ü–∞—Ä–∞–º–µ—Ç—Ä 2 | –ü–∞—Ä–∞–º–µ—Ç—Ä 3 | –ü–∞—Ä–∞–º–µ—Ç—Ä 4 | Checksum |

* **CRC:** –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –∑–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º **CRC-8** (–ü–æ–ª—ñ–Ω–æ–º: `0x07`, Init: `0x00`).
* **–í–∞–ª—ñ–¥–∞—Ü—ñ—è:** –Ø–∫—â–æ CRC –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è, –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î –ø–∞–∫–µ—Ç –ø–æ–º–∏–ª–∫–∏: `EE EE EE EE EE EE`.

---

# üéÆ Four in a Row ‚Äî PC Project Requirements
## üíª System Requirements

### Operating System:
* [x] Windows 10 (64-bit)
* [x] Windows 11 (64-bit)

### Architecture:
* [x] x64 (recommended)

### Minimum Hardware Requirements:
* [x] CPU: Dual-core 1.8 GHz or higher
* [x] RAM: 4 GB (8 GB recommended)
* [x] Storage: ~100 MB free space

## üõ† Development Environment
IDE:
* [x] Visual Studio Code 1.109.1
* [x] Python Version: 3.14.3
* [x] Tkinter Version: 8.6 (bundled with Python)
* [x] PySerial Version: 3.5


## ‚öôÔ∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

### üî© –ê–ø–∞—Ä–∞—Ç–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è
* **Target Board:** STM32F0Discovery
* **MCU:** STM32F051R8 (ARM Cortex-M0)
* **Flash:** 64 KB | **RAM:** 8 KB
* **Interface:** UART (38400 baud, 8N1)

### üíª –ü—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è
* **IDE:** STM32CubeIDE
* **Compiler:** GCC for ARM Embedded Processors (`arm-none-eabi`)
* **Debugger:** ST-LINK/V2

### üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
* **HAL Driver:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–µ—Ä–∏—Ñ–µ—Ä—ñ—ó.
* **Bare Metal:**
    * **Main Loop:** –û–±—Ä–æ–±–∫–∞ —ñ–≥—Ä–æ–≤–æ—ó –ª–æ–≥—ñ–∫–∏ —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.
    * **ISR (Interrupts):** –ö—Ä–∏—Ç–∏—á–Ω—ñ –∑–∞–¥–∞—á—ñ, —Ç–∞–∫—ñ —è–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –ø—Ä–∏–π–æ–º –¥–∞–Ω–∏—Ö –ø–æ UART.
* **Timebase:** `SysTick` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤—ñ–¥–ª—ñ–∫—É —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —á–∞—Å—É —Ç–∞ –æ–±—Ä–æ–±–∫–∏ —Ç–∞–π–º–∞—É—Ç—ñ–≤.

---

## üöÄ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

–ù–∞ –¥–∞–Ω–æ–º—É –µ—Ç–∞–ø—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

- [x] **System:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞–∫—Ç—É–≤–∞–Ω–Ω—è (RCC) —Ç–∞ GPIO.
- [x] **UART Interrupts:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –ø—Ä–∏–π–æ–º –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è (non-blocking ring buffer).
- [x] **Protocol:** –í–ª–∞—Å–Ω–∏–π –±—ñ–Ω–∞—Ä–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏ (Command-based).
- [x] **Integrity:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –ø–∞–∫–µ—Ç—ñ–≤ —á–µ—Ä–µ–∑ CRC-8.
- [x] **Stability:** –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ä–æ–∑—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó (—Ç–∞–π–º–∞—É—Ç **10 –º—Å** –º—ñ–∂ –±–∞–π—Ç–∞–º–∏).
- [x] **Architecture:** –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–∞—Ç–µ—Ä–Ω "Master-Slave" (–ü–ö ‚Äî Master, STM32 ‚Äî Slave).

---

## üì° –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º—ñ–Ω—É (Binary Protocol)

–û–±–º—ñ–Ω –¥–∞–Ω–∏–º–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –±—ñ–Ω–∞—Ä–Ω–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏ **6 –±–∞–π—Ç**.

### üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç—É

| –ë–∞–π—Ç | –ù–∞–∑–≤–∞ | –û–ø–∏—Å |
| :---: | :--- | :--- |
| **0** | `CMD` | –ö–æ–º–∞–Ω–¥–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó (–Ω–∞–ø—Ä. `0x01` - —Ö—ñ–¥ –≥—Ä–∞–≤—Ü—è) |
| **1** | `ADDR_H` | –°—Ç–∞—Ä—à–∏–π –±–∞–π—Ç –∞–¥—Ä–µ—Å–∏ (–Ω–æ–º–µ—Ä –∫–æ–º—ñ—Ä–∫–∏) |
| **2** | `ADDR_L` | –ú–æ–ª–æ–¥—à–∏–π –±–∞–π—Ç –∞–¥—Ä–µ—Å–∏ |
| **3** | `DATA_H` | –°—Ç–∞—Ä—à–∏–π –±–∞–π—Ç –¥–∞–Ω–∏—Ö |
| **4** | `DATA_L` | –ú–æ–ª–æ–¥—à–∏–π –±–∞–π—Ç –¥–∞–Ω–∏—Ö |
| **5** | `CRC` | –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Å—É–º–∞ (Arithmetic Modulo 256) |

### üîê –ê–ª–≥–æ—Ä–∏—Ç–º —Ç–∞ –ë–µ–∑–ø–µ–∫–∞

#### 1. –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ CRC
–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Å—É–º–∞ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è —è–∫ —Å—É–º–∞ –ø–µ—Ä—à–∏—Ö 5 –±–∞–π—Ç –ø–∞–∫–µ—Ç—É:
```c
CRC = (CMD + ADDR_H + ADDR_L + DATA_H + DATA_L) & 0xFF
```

# üéÆ Four in a Row ‚Äî PC Project Requirements
## üíª System Requirements

### Operating System:
* [x] Windows 10 (64-bit)
* [x] Windows 11 (64-bit)

### Architecture:
* [x] x64 (recommended)

### Minimum Hardware Requirements:
* [x] CPU: Dual-core 1.8 GHz or higher
* [x] RAM: 4 GB (8 GB recommended)
* [x] Storage: ~100 MB free space

## üõ† Development Environment
IDE:
* [x] Visual Studio Code 1.109.1
* [x] Python Version: 3.14.3
* [x] Tkinter Version: 8.6 (bundled with Python)
* [x] PySerial Version: 3.5

### –¢–∞–±–ª–∏—Ü—è –∫–æ–º–∞–Ω–¥

| HEX | –ö–æ–º–∞–Ω–¥–∞ | –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ (–í—Ö—ñ–¥–Ω—ñ) | –í—ñ–¥–ø–æ–≤—ñ–¥—å (Byte 3, Byte 4) | –û–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ—ó |
| :--- | :--- | :--- | :--- | :--- |
| **0x10** | `NEW GAME` | `00 00 00 00` | `00`, `AA` | –ü–æ–≤–Ω—ñ—Å—Ç—é –æ—á–∏—â–∞—î –ø–æ–ª–µ, —Å–∫–∏–¥–∞—î —Ä–∞—Ö—É–Ω–æ–∫ —Ç–∞ –≥–µ–Ω–µ—Ä—É—î –Ω–æ–≤—ñ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –∫–æ–ª—å–æ—Ä–∏. |
| **0x11** | `SWAP` | **B1**: Row 1<br>**B2**: Col 1<br>**B3**: Row 2<br>**B4**: Col 2 | `00`, `AA` (–£—Å–ø—ñ—Ö)<br>`00`, `EE` (–ü–æ–º–∏–ª–∫–∞) | –ú—ñ–Ω—è—î –º—ñ—Å—Ü—è–º–∏ –¥–≤—ñ —Å—É—Å—ñ–¥–Ω—ñ –∫–ª—ñ—Ç–∏–Ω–∫–∏. –Ø–∫—â–æ —Ö—ñ–¥ –Ω–µ —Å—Ç–≤–æ—Ä—é—î –ª—ñ–Ω—ñ—é ("Match-3"), –æ–±–º—ñ–Ω —Å–∫–∞—Å–æ–≤—É—î—Ç—å—Å—è —ñ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞. |
| **0x12** | `REMOVE` | *Reserved* | `00`, `AA` | –ó–∞—Ä–µ–∑–µ—Ä–≤–æ–≤–∞–Ω–æ –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è (Debug). –ù–∞—Ä–∞–∑—ñ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞—Ç—É—Å OK. |
| **0x13** | `GRAVITY` | `00 00 00 00` | `00`, `AA` | –ü—Ä–∏–º—É—Å–æ–≤–∏–π –∑–∞–ø—É—Å–∫ —Ü–∏–∫–ª—É –≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ—ó (–ø–∞–¥—ñ–Ω–Ω—è —Ñ—ñ–≥—É—Ä —Ç–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ø—É—Å—Ç–æ—Ç). |
| **0x14** | `GET CELL` | **B1**: Row (–†—è–¥–æ–∫)<br>**B2**: Col (–°—Ç–æ–≤–ø—á–∏–∫) | **B3**: ID –∫–æ–ª—å–æ—Ä—É<br>**B4**: `AA` | –ü–æ–≤–µ—Ä—Ç–∞—î ID –∫–æ–ª—å–æ—Ä—É (1-6) —É –≤–∫–∞–∑–∞–Ω—ñ–π –∫–ª—ñ—Ç–∏–Ω—Ü—ñ. –Ø–∫—â–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –Ω–µ–≤—ñ—Ä–Ω—ñ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î `EE`. |
| **0x15** | `SCORE` | `00 00 00 00` | **B3**: Score High<br>**B4**: Score Low | –ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ—á–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫ –≥—Ä–∏ (uint16_t) —É –¥–≤–æ—Ö –±–∞–π—Ç–∞—Ö. |

### –ö–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—ñ–≤ (Byte 4 —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)
* **0xAA:** –û–ø–µ—Ä–∞—Ü—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–∞ —É—Å–ø—ñ—à–Ω–æ (OK).
* **0xEE:** –ü–æ–º–∏–ª–∫–∞ –ª–æ–≥—ñ–∫–∏ (–Ω–µ–≤—ñ—Ä–Ω–∏–π —Ö—ñ–¥, –≤–∏—Ö—ñ–¥ –∑–∞ –º–µ–∂—ñ –º–∞—Å–∏–≤—É).
* **0xFF:** –ù–µ–≤—ñ–¥–æ–º–∞ –∫–æ–º–∞–Ω–¥–∞.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –ø–∞–∫–µ—Ç—ñ–≤ (HEX)
* **–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–ª—ñ—Ä –∫–æ–º—ñ—Ä–∫–∏ (0,0):** `14 00 00 00 00 [CRC]`
* **–ó—Ä–æ–±–∏—Ç–∏ —Ö—ñ–¥ (0,0) <-> (0,1):** `11 00 00 00 01 [CRC]`
* **–ü–æ—á–∞—Ç–∏ –Ω–æ–≤—É –≥—Ä—É:** `10 00 00 00 00 [CRC]`



